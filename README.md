# ljscrapper
Парсер для ЖЖ. Скрипт собирает список статей блога (название статьи, дату и теги) в json-файл. Примеры [тут](https://saprolino.github.io/ljscrapper.html).

## Требования
- python3.4+
- библиотеки:
  - bs4
  - requests

## Как использовать
- Запустите main.py (что-то вроде `python3 main.py`)
- По умолчанию скрипт сохраняет данные каждые 10 статей, но можно сделать так: `python3 main.py 42`
- Скрипт попросит название блога (blogname для **blogname**.livejournal.com)
- После этого начнется парсинг. В процессе скрипт выводит в одну строку:
  - количество статей в базе
  - ID статьи
  - время публикации записи
  - заголовок
  - теги
- В конце в папке data появится файл с названием blogname.json

## Разные моменты
- Работают обычные блоги (**blogname.livejournal.com**) и блоги на отдельных доменах (**blogname.com**), кроме **varlamov.ru**
- Если в блоге много статей, парсинг может идти долго (с обычным домашним интернетом - что-то вроде 2-3 секунд на статью)
- Если процесс оборвался, при следующем запуске скрипт продолжит работу с последнего сохраненного момента.
- Статья может быть недоступна по ряду причин:
  - Статья была заблокирована местными органами (Error 451. The page is blocked due to the decision of the authorities in your area.) - тогда она будет сохранена с полем даты "date": "NA"
  - Статья 18+ - скрипт обходит такие блокировки, все ок
